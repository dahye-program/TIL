# Network

## HTTP 와 HTTPS

### HTTP

- HyperText Transfer Protocol
- W3 상에서 정보를 주고 받을 수 있는 Protocol
- 주로 `TCP` 사용, HTTP/3 부터는 `UDP` 사용
- 80번 포트

### HTTP의 문제점

- HTTP는 평문 통신이기 때문에 도청 가능
- 통신 상대를 확인하지 않기 때문에 위장 가능
- 완전성을 증명할 수 없기 때문에 변조 가능

### TCP/IP 는 도청 가능한 네트워크

- `TCP/IP` 구조 통신은 전부 통신 경로 상에서 엿볼 수 있음 === 패킷을 수집하는 것 만으로 도청 가능
- 평문으로 통신할 경우 메시지 의미를 파악할 수 있기 때문에 암호화하여 통신해야함

**[보완 방법]**

⇒ 통신 자체를 암호화 `SSL` OR `TLS` 를 조합함으로써 HTTP의 통신 내용 암호화

(`SSL` 을 조합한 HTTP는 `HTTPS` OR `HTTP over SSL` )

⇒ HTTP 메시지에 포함되는 콘텐츠를 암호화

### 통신 상대를 확인하지 않기 때문에 위장 가능

- HTTP 통신은 상대가 누구인지 확인하는 처리가 없기 때문에 누구든지 요청 전송 가능
- IP 주소나 포트 등에서 해당 웹 서버에 액세스 제한이 없는 경우 요청이 오면 상대가 누구든 응답
  - 요청을 보낸 곳의 웹 서버가 원래 의도한 응답을 보내야 하는 웹 서버인지 확인 불가능
  - 응답을 반환한 곳의 클라이언트가 원래 의도한 요청을 보낸 클라이언트인지 확인 불가능
  - 통신하고 있는 상대가 접근이 허가된 상대인지 확인 불가능
  - 어디에서 누가 요청했는지 확인 불가능
  - 의미 없는 요청도 수신하게 됨 → DoS 공격 방지 X

**[보완 방법]**

⇒ `SSL` 은 상대를 확인하는 수단으로 **증명서** 제공

증명서는 제 3자 기관에 의해 발행되는 것으로 서버나 클라이언트가 실재하는 사실 증명

클라이언트는 해당 증명서로 본인을 확인하고 웹 사이트 인증도 이용 가능

### 완전성(정보의 정확성)을 증명할 수 없기 때문에 변조 가능

- 서버 OR 클라이언트에서 수신한 내용이 송신측에서 보낸 내용과 일치하는지 보장할 수 없음
- 요청이나 응답이 발신된 후에 상대가 수신하는 사이 누군가에 의해 변조될 수도 있음
  - 중간자 공격(Man-in-the-Middle): 공격자가 도중에 요청이나 응답을 변조

**[보완 방법]**

⇒ `MD5`, `SHA-1` 등 해시값 확인, 파일의 디지털 서명을 확인하는 방법이 있지만 확실한 것은 X

⇒ HTTPS의 `SSL` 로 인증, 암호화, 다이제스트 기능을 통해 보완 가능

### HTTPS

> HTTP에 암호화와 인증, 완전성 보호를 더한 것이 HTTPS
>
- `SSL` 이 추가된 HTTP의 보안이 강화된 버전
- HyperText Protocol over Secure Socket Layer
- HTTP 통신하는 소켓 부분을 `SSL(Secure Socket Layer)` OR `TLS(Transport Layer Security)` 프로토콜로 대체하는 것
- HTTP는 `SSL` 과 통신, `SSL` 이 `TCP` 와 통신
- 암호화와 증명서, 안전성 보호 가능
- `SSL` 에서는 공통키 암호화 방식과 공개키 암호화 방식을 혼합하여 하이브리드 암호 시스템 사용
- 공통키를 공개키 암호화 방식으로 교환하고 공통키 암호 방식을 사용하여 통신

**모든 웹 페이지에서 HTTPS 를 사용해도되는가?**

- 평문 통신에 비해 암호화 통신은 CPU나 메모리 등 리소스를 더 많이 요구
- 통신할 때마다 암호화를 하면 추가적 리소스를 소비하기 때문에 서버 한 대당 처리할 수 있는 요청의 수가 상대적으로 줄어듬
- 하지만 최근 하드웨어의 발달로 HTTPS를 사용하더라도 속도 저하가 거의 발생하지 않음
- 새로운 표준 HTTP 2.0을 함께 이용하면 오히려 HTTP보다 빠르게 동작
- 현재는 거의 모든 웹 페이지에서 HTTPS 를 적용하는 방향으로 변화하고 있음
